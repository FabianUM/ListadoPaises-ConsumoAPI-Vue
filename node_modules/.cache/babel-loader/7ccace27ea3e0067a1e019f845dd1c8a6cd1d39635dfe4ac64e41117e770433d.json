{"ast":null,"code":"import gql from 'graphql-tag';\nimport { apolloClient } from '@/apollo-client';\nimport pixabayClient from '@/axios';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      countries: [],\n      selectedCountry: null,\n      regions: ['Santa Cruz', 'Cordoba', 'Jujuy', 'Tucuman'] // Example regions\n    };\n  },\n  methods: {\n    async fetchCountries() {\n      try {\n        const response = await apolloClient.query({\n          query: gql`\n            query {\n              countries {\n                code\n                name\n                capital\n                currency\n                languages{\n                  native\n                }\n                continent {\n                  name\n                }\n              }\n            }\n          `\n        });\n        let countries = response.data.countries;\n\n        // Limitar a las primeras 12 países\n        //countries = countries.slice(0, 12);\n        countries = countries.slice(30, 44);\n\n        // Fetch images from Pixabay for each country flag\n        for (let country of countries) {\n          const flagResponse = await pixabayClient.get('', {\n            params: {\n              q: `${country.name} flag`,\n              image_type: 'photo',\n              per_page: 3\n            }\n          });\n          const flag = flagResponse.data.hits[0]?.webformatURL;\n          country.flag = flag;\n        }\n\n        // Fetch images from Pixabay for each country capital\n        for (let country of countries) {\n          const imageResponse = await pixabayClient.get('', {\n            params: {\n              q: country.capital,\n              image_type: 'photo',\n              per_page: 3\n            }\n          });\n          const image = imageResponse.data.hits[0]?.webformatURL;\n          country.image = image;\n        }\n        this.countries = countries;\n      } catch (error) {\n        console.error('Error fetching countries or images:', error);\n      }\n    },\n    selectCountry(country) {\n      this.selectedCountry = country;\n    },\n    closeDetails() {\n      this.selectedCountry = null;\n    },\n    filterCountries() {\n      const query = this.searchQuery.toLowerCase();\n      this.filteredCountries = this.countries.filter(country => country.name.toLowerCase().includes(query));\n    }\n  },\n  mounted() {\n    this.fetchCountries();\n  }\n};","map":{"version":3,"names":["gql","apolloClient","pixabayClient","name","data","countries","selectedCountry","regions","methods","fetchCountries","response","query","slice","country","flagResponse","get","params","q","image_type","per_page","flag","hits","webformatURL","imageResponse","capital","image","error","console","selectCountry","closeDetails","filterCountries","searchQuery","toLowerCase","filteredCountries","filter","includes","mounted"],"sources":["src/views/HomeView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"search-bar\">\r\n      <input type=\"text\" v-model=\"searchQuery\" placeholder=\"Buscar país...\" @input=\"filterCountries\">\r\n      <button @click=\"filterCountries\">Buscar</button>\r\n    </div>\r\n    <div class=\"card-deck\" :class=\"{ 'two-columns': selectedCountry }\">\r\n      <div class=\"card\" v-for=\"country in countries\" :key=\"country.code\" @click=\"selectCountry(country)\">\r\n        <img class=\"card-img-top\" :src=\"country.image\" alt=\"Country image\">\r\n        <div class=\"card-body\">\r\n          <img class=\"flag-icon\" :src=\"country.flag\" alt=\"Country flag\">\r\n          <div class=\"card-data\">\r\n            <p class=\"card-name\">{{ country.name }}</p>\r\n            <p class=\"card-continent\">{{ country.continent.name }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"selectedCountry\" class=\"detailed-view\">\r\n      <button class=\"close\" @click=\"closeDetails\">X</button>\r\n      <img :src=\"selectedCountry.image\" alt=\"Capital image\" class=\"detail-image\">\r\n      <div class=\"selected-header\">\r\n        <img :src=\"selectedCountry.flag\" alt=\"Country flag\" class=\"detail-flag\">\r\n        <div class=\"selected-names\">\r\n          <p class=\"card-name\"><strong>{{ selectedCountry.name }}</strong></p>\r\n          <p>{{ selectedCountry.continent.name }}</p>\r\n        </div>\r\n        \r\n      </div>\r\n      <div class=\"selected-dates\">\r\n        <p class=\"card-name\">Capital:</p>\r\n        <p class=\"date\">{{ selectedCountry.capital }}</p>\r\n      </div>\r\n      <div class=\"selected-dates\">\r\n        <p class=\"card-name\">Language:</p> \r\n        <p class=\"date\">{{ selectedCountry.languages.map(lang => lang.native).join(', ') }}</p>\r\n      </div>\r\n      <div class=\"selected-dates\">\r\n        <p class=\"card-name\">Population:</p>\r\n        <p class=\"date\">500k people</p>\r\n      </div>\r\n      <div class=\"selected-dates\">\r\n        <p class=\"card-name\">Currency:</p>\r\n        <p class=\"date\">{{ selectedCountry.currency }}</p>\r\n      </div>\r\n      <div class=\"selected-region\">\r\n        <p class=\"card-name\">Region</p>\r\n        <select class=\"custom-select\">\r\n          <option v-for=\"region in regions\" :key=\"region\">{{ region }}</option>\r\n        </select>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag';\r\nimport { apolloClient } from '@/apollo-client';\r\nimport pixabayClient from '@/axios';\r\n\r\nexport default {\r\n  name: 'HomeView',\r\n  data() {\r\n    return {\r\n      countries: [],\r\n      selectedCountry: null,\r\n      regions: ['Santa Cruz', 'Cordoba', 'Jujuy', 'Tucuman'] // Example regions\r\n    };\r\n  },\r\n  methods: {\r\n    async fetchCountries() {\r\n      try {\r\n        const response = await apolloClient.query({\r\n          query: gql`\r\n            query {\r\n              countries {\r\n                code\r\n                name\r\n                capital\r\n                currency\r\n                languages{\r\n                  native\r\n                }\r\n                continent {\r\n                  name\r\n                }\r\n              }\r\n            }\r\n          `,\r\n        });\r\n\r\n        let countries = response.data.countries;\r\n\r\n        // Limitar a las primeras 12 países\r\n        //countries = countries.slice(0, 12);\r\n        countries = countries.slice(30, 44);\r\n\r\n        // Fetch images from Pixabay for each country flag\r\n        for (let country of countries) {\r\n          const flagResponse = await pixabayClient.get('', {\r\n            params: {\r\n              q: `${country.name} flag`,\r\n              image_type: 'photo',\r\n              per_page: 3,\r\n            },\r\n          });\r\n          const flag = flagResponse.data.hits[0]?.webformatURL;\r\n          country.flag = flag;\r\n        }\r\n\r\n        // Fetch images from Pixabay for each country capital\r\n        for (let country of countries) {\r\n          const imageResponse = await pixabayClient.get('', {\r\n            params: {\r\n              q: country.capital,\r\n              image_type: 'photo',\r\n              per_page: 3,\r\n            },\r\n          });\r\n          const image = imageResponse.data.hits[0]?.webformatURL;\r\n          country.image = image;\r\n        }\r\n\r\n        this.countries = countries;\r\n      } catch (error) {\r\n        console.error('Error fetching countries or images:', error);\r\n      }\r\n    },\r\n    selectCountry(country) {\r\n      this.selectedCountry = country;\r\n    },\r\n    closeDetails() {\r\n      this.selectedCountry = null;\r\n    },\r\n    filterCountries() {\r\n      const query = this.searchQuery.toLowerCase();\r\n      this.filteredCountries = this.countries.filter(country =>\r\n        country.name.toLowerCase().includes(query)\r\n      );\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchCountries();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.search-bar {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n.search-bar input {\r\n  width: 300px;\r\n  padding: 10px;\r\n  margin-right: 10px;\r\n}\r\n.search-bar button {\r\n  padding: 10px 20px;\r\n}\r\n.card-deck {\r\n  display: grid !important;\r\n  grid-template-columns: repeat(3, 1fr) !important;\r\n  gap: 20px !important;\r\n  padding: 3rem !important;\r\n}\r\n.card-deck.two-columns {\r\n  grid-template-columns: repeat(2, 1fr) !important;\r\n  width: 45%;\r\n}\r\n.card {\r\n  width: 18rem;\r\n  margin-bottom: 1.5rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 10rem;\r\n  box-shadow: 4px 8px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n.card-body {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.card-img-top {\r\n  height: 10rem;\r\n}\r\n.flag-icon {\r\n  width: 50px;\r\n  height: 40px;\r\n  margin-right: 10px;\r\n  vertical-align: middle;\r\n}\r\n.card-data {\r\n  display: block;\r\n  line-height: 0.5;\r\n}\r\n.card-name {\r\n  color: rgb(60, 136, 212);\r\n  font-weight: bold;\r\n}\r\n.detailed-view {\r\n  position: fixed;\r\n  top: 10%;\r\n  right: 5%;\r\n  width: 25%;\r\n  background: white;\r\n  box-shadow: 4px 4px 4px 8px rgba(0, 0, 0, 0.2);\r\n  padding: 20px;\r\n  border-radius: 1rem;\r\n  z-index: 10;\r\n}\r\n.detail-image {\r\n  width: 100%;\r\n  height: 8rem;\r\n}\r\n.detail-flag {\r\n  width: 60px;\r\n  height: 40px;\r\n  margin-top: 30px;\r\n}\r\n.selected-header{\r\n  display: flex;\r\n}\r\n.selected-names{\r\n  display: block;\r\n  margin-left: 15px;\r\n  margin-top: 35px;\r\n  line-height: 0.5;\r\n}\r\n.selected-dates{\r\n  display: flex;\r\n}\r\n.selected-region{\r\n  display: block;\r\n}\r\n.date{\r\n  margin-left: 10px;\r\n}\r\n.custom-select {\r\n  width: 100%; \r\n  padding: 10px; \r\n  border: 1px solid #ccc; \r\n  border-radius: 5px; \r\n  background-color: #fff;\r\n  color: #333; \r\n  font-size: 16px; \r\n  appearance: none; \r\n  -webkit-appearance: none; \r\n  -moz-appearance: none; \r\n}\r\n.custom-select option {\r\n  background-color: #fff; \r\n  color: #333; \r\n  padding: 10px; \r\n}\r\n.close {\r\n  background-color: #f44336; \r\n  border: none;\r\n  border-radius: 50%; \r\n  padding: 10px; \r\n  font-size: 3px; \r\n  cursor: pointer;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); \r\n  transition: background-color 0.3s, box-shadow 0.3s; \r\n}\r\n\r\n.close:hover {\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.close:focus {\r\n  outline: none;\r\n  box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.5);\r\n}\r\n</style>\r\n"],"mappings":"AAyDA,OAAAA,GAAA;AACA,SAAAC,YAAA;AACA,OAAAC,aAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,eAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,eAAA;MACA;QACA,MAAAC,QAAA,SAAAT,YAAA,CAAAU,KAAA;UACAA,KAAA,EAAAX,GAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QACA;QAEA,IAAAK,SAAA,GAAAK,QAAA,CAAAN,IAAA,CAAAC,SAAA;;QAEA;QACA;QACAA,SAAA,GAAAA,SAAA,CAAAO,KAAA;;QAEA;QACA,SAAAC,OAAA,IAAAR,SAAA;UACA,MAAAS,YAAA,SAAAZ,aAAA,CAAAa,GAAA;YACAC,MAAA;cACAC,CAAA,KAAAJ,OAAA,CAAAV,IAAA;cACAe,UAAA;cACAC,QAAA;YACA;UACA;UACA,MAAAC,IAAA,GAAAN,YAAA,CAAAV,IAAA,CAAAiB,IAAA,KAAAC,YAAA;UACAT,OAAA,CAAAO,IAAA,GAAAA,IAAA;QACA;;QAEA;QACA,SAAAP,OAAA,IAAAR,SAAA;UACA,MAAAkB,aAAA,SAAArB,aAAA,CAAAa,GAAA;YACAC,MAAA;cACAC,CAAA,EAAAJ,OAAA,CAAAW,OAAA;cACAN,UAAA;cACAC,QAAA;YACA;UACA;UACA,MAAAM,KAAA,GAAAF,aAAA,CAAAnB,IAAA,CAAAiB,IAAA,KAAAC,YAAA;UACAT,OAAA,CAAAY,KAAA,GAAAA,KAAA;QACA;QAEA,KAAApB,SAAA,GAAAA,SAAA;MACA,SAAAqB,KAAA;QACAC,OAAA,CAAAD,KAAA,wCAAAA,KAAA;MACA;IACA;IACAE,cAAAf,OAAA;MACA,KAAAP,eAAA,GAAAO,OAAA;IACA;IACAgB,aAAA;MACA,KAAAvB,eAAA;IACA;IACAwB,gBAAA;MACA,MAAAnB,KAAA,QAAAoB,WAAA,CAAAC,WAAA;MACA,KAAAC,iBAAA,QAAA5B,SAAA,CAAA6B,MAAA,CAAArB,OAAA,IACAA,OAAA,CAAAV,IAAA,CAAA6B,WAAA,GAAAG,QAAA,CAAAxB,KAAA,CACA;IACA;EACA;EACAyB,QAAA;IACA,KAAA3B,cAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}